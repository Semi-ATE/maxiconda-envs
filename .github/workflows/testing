name: Testing vehicle

on:
  workflow_dispatch:

jobs:
  my_test:
    name: ${{ matrix.OS }}
    runs-on: ${{ matrix.VM }}
    strategy:
      fail-fast: false
      matrix:
        include:
          - OS: win-64
            VM: windows-latest            
          - OS: linux-64
            VM: ubuntu-latest
          - OS: osx-64
            VM: macos-latest
          - OS: linux-aarch64
            VM: ubuntu-latest
            DOCKER_IMG: condaforge/linux-anvil-aarch64
          - OS: osx-arm64
            VM: macos-latest
            DOCKER_IMG: xyz      
    steps:
    - name: test if on Windows
      shell: bash -l {0}
      env:
        RUNNER: ${{ runner.os }}
      run: |
        if [[ "$RUNNER" == "Windows" ]]; then
          echo "We are running in a Windows environment"
        else
          echo "We are NOT running in a windows environment"
